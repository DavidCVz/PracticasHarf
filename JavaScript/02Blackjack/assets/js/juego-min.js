const miModulo=(()=>{"use strict";let e=[],a=["C","D","H","S"],t=["K","Q","J","A"],l=[],r=document.querySelector("#btnPedir"),d=document.querySelector("#btnDetener"),o=document.querySelector("#btnNuevoJuego"),n=document.querySelectorAll(".divCartas"),s=document.querySelectorAll("small");d.disabled=!0,r.disabled=!0;let i=()=>{e=[];for(let l=2;l<=10;l++)for(let r of a)e.push(l+r);for(let d of a)for(let o of t)e.push(o+d);return _.shuffle(e)},u=(a=2)=>{e=i(),l=[];for(let t=0;t<a;t++)l.push(0);s.forEach(e=>e.innerText=0),n.forEach(e=>e.innerHTML=""),r.disabled=!1,d.disabled=!1,o.disabled=!0};i();let c=()=>{if(0!==e.length)return e.pop();throw"Ya no quedan cartas en el maso"},$=e=>{let a=e.substring(0,e.length-1);return isNaN(a)?"A"==a?11:10:1*a},b=(e,a)=>(l[a]=l[a]+$(e),console.log({turno:a}),s[a].innerText=l[a],l[a]),f=(e,a)=>{let t=document.createElement("img");t.src=`assets/cartas/${e}.png`,t.classList.add("carta"),n[a].append(t)},g=e=>{let a=l.length-1;do{let t=c();if(b(t,a),f(t,a),console.log("Puntos de computadora:"+l[a]),e>21)break}while(l[a]<e&&e<=21);setTimeout(()=>{l[a]===e?alert("Juego empatado"):e>21?alert("Gana la computadora"):l[a]>21?alert("Gana el jugador"):l[a]<e?alert("Gana el jugador"):alert("Gana la computadora"),o.disabled=!1},10)};return r.addEventListener("click",()=>{let e=c(),a=b(e,0);f(e,0),a>21?(console.warn("Partida perdida"),r.disabled=!0,d.disabled=!0,g(a)):21===a&&(console.warn("Partida ganada"),r.disabled=!0,d.disabled=!0,g(a))}),d.addEventListener("click",()=>{r.disabled=!0,g(l[0]),d.disabled=!0}),o.addEventListener("click",()=>{u()}),{JuegoNuevo:u}})();